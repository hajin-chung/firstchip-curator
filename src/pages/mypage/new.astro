---
import { ArtCreateForm } from "@components/ArtCreateForm";
import Layout from "@layouts/Layout.astro";
import { getAuthDataBySessionId } from "@lib/server";

const { isAuthed, artist } = await getAuthDataBySessionId(
  Astro.cookies.get("session").value
);

if (isAuthed !== true || artist === undefined) {
  return Astro.redirect("/auth");
}
---

<Layout title="새 작품 추가하기">
	<ArtCreateForm client:load />
</Layout>