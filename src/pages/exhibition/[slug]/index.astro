---
const { slug } = Astro.params;
import LayoutWithHeader from "@layouts/LayoutWithHeader.astro";
import { exhibitions, titles } from "@lib/content";

if (typeof slug === "undefined" || !(slug in exhibitions)) {
  return Astro.redirect("/404");
}

const exhibition = exhibitions[slug];
---

<LayoutWithHeader title="Muse Match">
  <main>
    <div class="h-6"></div>
    <div class="flex gap-8 items-end flex-wrap">
      {
        titles.map(({ id, name }) => (
          <a
            class:list={{
              "text-2xl font-extrabold": slug === id,
              "text-xl text-gray-400 font-extrabold": slug !== id,
            }}
            href={`/exhibition/${id}`}
          >
            {name}
          </a>
        ))
      }
    </div>
    <div
      class="grid grid-cols-2 mt-8 gap-4 items-start"
      style="grid-template-columns: auto 1fr;"
    >
      {
        exhibition.arts.map(({ name, arts }) => (
          <>
            <p class="font-bold p-1">{name}</p>
            <div class="flex flex-col gap-1 items-start">
              {arts.map((art) => (
                <a class="hover-bg p-1" href={`/exhibition/${slug}/${art}`}>
                  {art}
                </a>
              ))}
            </div>
          </>
        ))
      }
    </div>
  </main>
</LayoutWithHeader>
